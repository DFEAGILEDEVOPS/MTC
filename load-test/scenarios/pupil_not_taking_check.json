{
  "config": {
    "target": "http://localhost:3001",
    "phases": [
      {
        "duration": 15,
        "arrivalRate": 5
      }
    ],
    "payload": {
      "path": "./data/admin_load_test_data.csv",
      "fields": [
        "username",
        "password",
        "pupilnot1"
      ]
    }
  },
  "scenarios": [
    {
      "name": "Pupil Not Taking Check",
      "flow": [
        {
          "post": {
            "url": "/sign-in",
            "form": {
              "username": "{{ username }}",
              "password": "{{ password }}"
            }
          }
        },
        {
          "get": {
            "url": "/school/school-home"
          }
        },
        {
          "get": {
            "url": "/school/pupils-not-taking-check"
          }
        },
        {
          "think": 2
        },
        {
          "post": {
            "url": "/school/pupils-not-taking-check/save-pupils",
            "form": {
              "attendanceCode": "LEFTT",
              "sortField": "name",
              "sortDirection": "asc",
              "pupil": "{{ pupilnot1 }}"
            }
          }
        }
      ]
    }
  ]
}
