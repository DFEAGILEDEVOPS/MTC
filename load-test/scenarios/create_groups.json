{
  "config": {
    "target": "http://localhost:3001",
    "phases": [
      {
        "duration": 15,
        "arrivalRate": 5
      }
    ],
    "payload": {
      "path": "./data/admin_load_test_data.csv",
      "fields": [
        "username",
        "password",
        "pupil0",
        "pupil1",
        "pupil2"
      ]
    }
  },
  "scenarios": [
    {
      "name": "Add Group",
      "flow": [
        {
          "post": {
            "url": "/sign-in",
            "form": {
              "username": "{{ username }}",
              "password": "{{ password }}"
            }
          }
        },
        {
          "get": {
            "url": "/school/school-home"
          }
        },
        {
          "get": {
            "url": "/school/group-pupils"
          }
        },
        {
          "think": 2
        },
        {
          "post": {
            "url": "/school/group-pupils/add",
            "form": {
              "name": "Test-1345",
              "pupil[0]": "{{ pupil0 }}",
              "pupil[1]": "{{ pupil1 }}",
              "pupil[2]": "{{ pupil2 }}"
            }
          }
        },
        {
          "get": {
            "url": "/school/group-pupils"
          }
        }
      ]
    }
  ]
}
